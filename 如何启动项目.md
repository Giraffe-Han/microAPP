# 🚀 如何启动低空综合服务平台

## ⚠️ 重要提示

**您必须在 `h5-platform` 目录下运行命令！**

---

## 📍 方法一：使用启动脚本（最简单）

### Windows 用户

1. **打开文件夹**
   ```
   进入目录：D:\低空\开发\低空综合服务平台\h5-platform
   ```

2. **双击运行**
   ```
   双击文件：启动服务.bat
   ```

3. **等待启动**
   - 看到 `VITE v5.x.x ready in xxx ms` 说明启动成功
   - 会显示访问地址：`http://localhost:5173/`

4. **打开浏览器**
   ```
   访问：http://localhost:5173/
   ```

---

## 📍 方法二：使用命令行（推荐）

### 步骤 1：打开 PowerShell 或 CMD

**方式A：在文件夹内打开**
1. 打开文件夹：`D:\低空\开发\低空综合服务平台`
2. 在地址栏输入 `powershell` 或 `cmd` 回车
3. 这样会直接在项目根目录打开终端

**方式B：从开始菜单打开**
1. 打开 PowerShell 或 CMD
2. 运行以下命令切换目录：
   ```powershell
   cd "D:\低空\开发\低空综合服务平台"
   ```

### 步骤 2：进入 h5-platform 目录

```powershell
cd h5-platform
```

**⚠️ 关键步骤：** 确保当前路径显示为：
```
PS D:\低空\开发\低空综合服务平台\h5-platform>
```

### 步骤 3：启动开发服务器

```powershell
npm run dev
```

### 步骤 4：查看输出

成功启动后会看到类似信息：
```
VITE v5.2.0  ready in 500 ms

➜  Local:   http://localhost:5173/
➜  Network: http://192.168.1.100:5173/
➜  press h + enter to show help
```

### 步骤 5：打开浏览器

在浏览器中访问：
```
http://localhost:5173/
```

---

## 🔴 常见错误及解决方案

### 错误 1：找不到 package.json

**错误信息：**
```
npm error code ENOENT
npm error path D:\低空\开发\低空综合服务平台\package.json
```

**原因：** 您在错误的目录运行命令

**解决：** 
```powershell
# 确保进入 h5-platform 目录
cd h5-platform

# 然后再运行
npm run dev
```

---

### 错误 2：端口被占用

**错误信息：**
```
Port 5173 is in use, trying another one...
```

**解决：** 
- Vite 会自动使用下一个端口（5174、5175...）
- 查看终端输出的实际端口号
- 使用新端口访问：`http://localhost:5174/`

---

### 错误 3：localhost 拒绝连接

**可能原因：**
1. 服务器没有启动成功
2. 防火墙阻止了连接
3. 端口号错误

**排查步骤：**

#### 3.1 检查服务器是否真的在运行
在终端查看是否有输出：
```
VITE v5.x.x  ready in xxx ms
```

如果没有，说明启动失败，查看错误信息。

#### 3.2 检查端口是否在监听
```powershell
netstat -ano | findstr :5173
```

如果没有输出，说明没有程序监听5173端口。

#### 3.3 重新安装依赖
```powershell
# 删除 node_modules
Remove-Item -Recurse -Force node_modules

# 重新安装
npm install

# 启动
npm run dev
```

#### 3.4 清除 npm 缓存
```powershell
npm cache clean --force
npm install
npm run dev
```

---

### 错误 4：模块找不到

**错误信息：**
```
Error: Cannot find module 'xxx'
```

**解决：**
```powershell
# 重新安装依赖
npm install
```

---

## 📱 手机访问设置

### 步骤 1：查找电脑 IP

```powershell
ipconfig
```

找到 IPv4 地址，例如：`192.168.1.100`

### 步骤 2：确保在同一 WiFi

手机和电脑必须连接到同一个 WiFi 网络

### 步骤 3：手机浏览器访问

```
http://192.168.1.100:5173/
```

---

## 🔧 完整的启动检查清单

启动前检查：

- [ ] 已安装 Node.js（版本 16 或以上）
  ```powershell
  node --version
  npm --version
  ```

- [ ] 已进入正确的目录
  ```
  当前路径必须是：D:\低空\开发\低空综合服务平台\h5-platform
  ```

- [ ] 已安装依赖包
  ```powershell
  # 检查 node_modules 文件夹是否存在
  dir node_modules
  
  # 如果不存在，运行
  npm install
  ```

- [ ] 5173 端口未被占用
  ```powershell
  netstat -ano | findstr :5173
  # 应该没有输出
  ```

---

## 🎯 启动后可以访问的页面

| 页面 | 地址 |
|------|------|
| 🏠 首页 | http://localhost:5173/ |
| 🎪 服务大厅 | http://localhost:5173/home |
| 📋 全部服务 | http://localhost:5173/services |
| 📝 我的申请 | http://localhost:5173/applications |
| 👤 个人中心 | http://localhost:5173/mine |
| 🎬 案例展示 | http://localhost:5173/cases |
| 🔐 登录 | http://localhost:5173/login |

---

## 🛒 查看无人机外卖配送功能

1. 访问首页：`http://localhost:5173/`
2. 向下滚动
3. 在"案例展示"下方看到**红色的"无人机外卖配送"卡片**
4. 点击测试跳转功能

---

## 💡 开发者工具

### 查看控制台
按 `F12` 打开浏览器开发者工具，查看：
- Console（控制台）：查看错误信息
- Network（网络）：查看请求状态
- Elements（元素）：查看页面结构

### 热更新
修改代码后保存，浏览器会自动刷新（无需手动刷新）

### 停止服务器
在终端按 `Ctrl + C` 停止服务器

---

## 📞 还是无法启动？

### 收集信息并报告

1. **Node.js 版本**
   ```powershell
   node --version
   npm --version
   ```

2. **当前目录**
   ```powershell
   pwd
   ```

3. **运行命令**
   ```powershell
   npm run dev
   ```

4. **复制完整的错误信息**
   - 包括所有红色的错误文本
   - 包括堆栈跟踪信息

---

## 🎉 启动成功的标志

当您看到以下信息时，说明启动成功：

```
  VITE v5.2.0  ready in 500 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: http://192.168.1.100:5173/
  ➜  press h + enter to show help
```

此时就可以打开浏览器访问了！

---

## 📝 快速命令参考

```powershell
# 进入项目目录
cd "D:\低空\开发\低空综合服务平台\h5-platform"

# 安装依赖（首次或依赖更新后）
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览生产版本
npm run preview
```

---

**祝您开发顺利！** 🎉

